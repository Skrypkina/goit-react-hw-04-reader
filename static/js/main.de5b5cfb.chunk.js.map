{"version":3,"sources":["components/Reader/Publication.js","components/Reader/Controls.js","components/Reader/Counter.js","pages/ReaderPage.js","components/App.js","index.js","components/Reader/Reader.module.css"],"names":["Publication","_ref","item","react_default","a","createElement","title","text","Controls","handleDecrement","handleIncrement","idx","className","styles","controls","type","button","disabled","onClick","Counter","number","react","counter","publications","length","getItemFromLocation","props","queryString","parse","location","search","ReaderPage","state","article","index","Number","_this","setState","history","push","Object","objectSpread","concat","qs","this","pathname","_this$state","Reader_Publication","Reader_Counter","Reader_Controls","Component","App","react_router","path","component","to","ReactDOM","render","react_router_dom","document","querySelector","module","exports","reader","publication"],"mappings":"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","file":"static/js/main.de5b5cfb.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Publication = ({ item }) => (\n  <article>\n    <h2>{item.title}</h2>\n    <p>{item.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  item: PropTypes.objectOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      text: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Reader.module.css';\n\nconst Controls = ({ handleDecrement, handleIncrement, idx }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      className={idx > 1 ? styles.button : styles.disabled}\n      onClick={handleDecrement}\n    >\n      Назад\n    </button>\n\n    <button\n      type=\"button\"\n      className={idx < 12 ? styles.button : styles.disabled}\n      onClick={handleIncrement}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handleDecrement: PropTypes.func.isRequired,\n  handleIncrement: PropTypes.func.isRequired,\n\n  idx: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Reader.module.css';\n\nconst Counter = ({ idx, number }) => (\n  <Fragment>\n    <p className={styles.counter}>\n      {idx}/{number}\n    </p>\n  </Fragment>\n);\n\nCounter.propTypes = {\n  idx: PropTypes.number,\n  number: PropTypes.number,\n};\n\nexport default Counter;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport publications from '../publications.json';\nimport Publication from '../components/Reader/Publication';\nimport Controls from '../components/Reader/Controls';\nimport Counter from '../components/Reader/Counter';\n\nconst number = publications.length;\n\nconst getItemFromLocation = props =>\n  queryString.parse(props.location.search).item;\n\nexport default class ReaderPage extends Component {\n  state = {\n    article: {},\n    idx: 1,\n  };\n\n  componentDidMount() {\n    // const location = this.props.location.search;\n    const qs = getItemFromLocation(this.props);\n    const index = Number(qs);\n    const item = index - 1;\n\n    if (!qs) {\n      return this.props.history.push({\n        pathname: this.props.location.pathname,\n        search: `item=1`,\n      });\n    }\n    if (!qs) {\n      return this.setState({ article: publications[0] });\n    }\n    this.setState({ article: publications[item], idx: index });\n  }\n\n  handleIncrement = () => {\n    const index = Number(getItemFromLocation(this.props));\n    const number = index + 1;\n\n    this.setState(state => ({\n      idx: this.state.idx + 1,\n      article: publications[index],\n    }));\n\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${number}`,\n    });\n  };\n\n  handleDecrement = () => {\n    const index = Number(getItemFromLocation(this.props));\n    const number = index - 1;\n    // console.log(index);\n    const item = number - 1;\n\n    this.setState(state => ({\n      idx: this.state.idx - 1,\n      article: publications[item],\n    }));\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${number}`,\n    });\n  };\n\n  render() {\n    const { idx, article } = this.state;\n\n    return (\n      <div>\n        {article && <Publication item={article} />}\n        <Counter number={number} idx={idx} />\n\n        <Controls\n          handleIncrement={this.handleIncrement}\n          handleDecrement={this.handleDecrement}\n          idx={idx}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport ReaderPage from '../pages/ReaderPage';\n\nconst App = () => (\n  <div>\n    <Switch>\n      <Route path=\"/reader\" component={ReaderPage} />\n      <Redirect to=\"/reader\" />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__cxwPY\",\"publication\":\"Reader_publication__9o6Je\",\"counter\":\"Reader_counter__yTH8_\",\"controls\":\"Reader_controls__1JZ80\",\"button\":\"Reader_button__8NTxS\",\"disabled\":\"Reader_disabled__5k1ME Reader_button__8NTxS\"};"],"sourceRoot":""}